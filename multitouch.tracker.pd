#N canvas 0 57 1920 1023 12;
#X obj 95 50 inlet;
#X obj 74 819 outlet;
#X obj 91 655 pack f f;
#X obj 59 550 f, f 4;
#X obj 60 584 spigot;
#X obj 165 491 t b f b;
#X msg 229 540 1;
#X obj 299 459 select -1;
#X msg 293 493 0;
#X obj 92 334 route MT_POSITION_X MT_POSITION_Y;
#X msg 38 741 update \$1 \$2;
#X msg 312 621 remove;
#X obj 311 370 route MT_TRACKING_ID MT_TOUCH_LENGTH MT_TOUCH_WIDTH
;
#X obj 451 491 f, f 4;
#X obj 452 525 spigot;
#X obj 557 432 t b f b;
#X msg 621 481 1;
#X obj 483 596 *;
#X msg 483 625 pressure \$1;
#N canvas 417 162 1089 857 multitouch.slot2 0;
#X obj 121 7 inlet;
#N canvas 4 54 708 646 slot 0;
#X obj 81 42 inlet;
#X obj 368 460 outlet;
#X obj 257 396 pack f f;
#X obj 194 292 f, f 4;
#X obj 195 326 spigot;
#X obj 300 233 t b f b;
#X msg 369 256 1;
#X obj 423 165 select -1;
#X msg 423 188 0;
#X obj 227 76 route MT_POSITION_X MT_POSITION_Y;
#X obj 195 349 +;
#X obj 353 344 r OFFSET_X;
#X obj 304 362 +;
#X obj 463 344 r OFFSET_Y;
#X obj 446 112 route MT_TRACKING_ID;
#X connect 0 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 5 0 3 0;
#X connect 5 1 12 0;
#X connect 5 2 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 8 0 4 1;
#X connect 9 0 3 0;
#X connect 9 1 5 0;
#X connect 9 2 1 0;
#X connect 9 2 14 0;
#X connect 10 0 2 0;
#X connect 11 0 10 1;
#X connect 12 0 2 1;
#X connect 13 0 12 1;
#X connect 14 0 7 0;
#X restore 242 17 pd slot;
#X obj 265 245 unpack f f;
#X obj 297 349 pack f f;
#X obj 263 270 t f f b;
#X obj 328 274 t f f b;
#X obj 292 326 f;
#X obj 380 328 f;
#X obj 229 350 pack f f;
#X obj 331 77 route list;
#X obj 387 280 unpack f f;
#X obj 417 72 select -1;
#X msg 439 153 1;
#X msg 464 219 0;
#X obj 632 154 f \$0;
#X obj 632 177 v MULTITOUCH.SLOT.ID;
#X obj 568 244 v MULTITOUCH.SLOT.ID;
#X obj 568 267 select \$0;
#X msg 568 290 0;
#X obj 571 318 v MULTITOUCH.SLOT.ID;
#X obj 595 347 r \$0-slot;
#X obj 79 488 spigot 1;
#X obj 595 370 route send_to;
#X obj 682 645 s;
#X obj 597 486 symbol;
#X obj 456 453 pack f f;
#X obj 468 494 spigot;
#X obj 483 320 s \$0-mode;
#X obj 201 422 r \$0-mode;
#X obj 535 456 r \$0-mode;
#X obj 535 479 == 0;
#X obj 653 497 s \$0-mode;
#X msg 634 457 0;
#X obj 453 399 unpack f f;
#X obj 372 396 unpack f f;
#X obj 391 418 -;
#X obj 425 423 -;
#X obj 810 172 v TRACKED.SLOTS;
#X obj 763 145 t f b;
#X obj 782 206 +;
#X obj 782 229 max 0;
#X obj 757 326 v TRACKED.SLOTS;
#X msg 764 119 1;
#X msg 542 140 -1;
#X obj 120 138 v TRACKED.SLOTS;
#X obj 120 219 > 1;
#X obj 78 571 spigot 1;
#X text 205 654 \$0-mode == 0 => touch mode;
#X text 205 674 \$0-mode == 1 => native gui mode;
#X text 432 655 (le mode touch est pris en charge par le gui);
#X text 437 675 (le gui est natif à puredata : on envoie des messages
mouse/mousup au patch);
#X obj 291 195 t l l;
#X obj 102 613 t a b;
#X obj 120 242 || \$1;
#X text 754 540 message pour signifier au gestionnaire touch que lÓS
ne renvoie pas dejà d'evenements mouse, f 26;
#X text -4 45 le slot no 0 est celui qui replique les événements
monotouch \, tranformés par l'OS en événements mouse. il faut donc
un mécanisme pour ne pas renvoyer des messages en double, f 33;
#X obj 226 43 route MT_TRACKING_ID slot;
#X obj 733 93 t b b;
#X obj 400 241 t l b;
#X obj 400 218 spigot 1;
#X msg 349 479 no_mouse \$1;
#X obj 258 493 list append;
#X msg 172 232 0;
#X obj 120 162 t f f;
#X obj 185 168 change;
#X obj 185 187 select 2;
#X obj 189 211 s SLOT-0.MOUSEUP;
#X obj 256 452 r SLOT-\$1.MOUSEUP;
#X obj 127 298 t f f;
#X msg 331 141 0;
#X obj 204 103 t b l b;
#X obj 75 327 f;
#X obj 772 11 loadbang;
#X msg 772 30 1;
#X obj 772 50 s \$0-mode;
#X msg 463 362 no_mouse 0 \, remove;
#X msg 251 549 mouseup \$1 \$2 1;
#X obj 152 706 s MULTITOUCH_CLICKS;
#X obj 186 388 list append;
#X msg 44 535 mouse \$3 \$4 1 0 \, motion \$1 \$2 0 \, mouseup \$1
\$2 1;
#X obj 581 410 t a b;
#X obj 766 386 symbol \$0-nop;
#X obj 376 557 r slot-\$1;
#X obj 102 636 spigot 1;
#X obj 376 580 route bypass;
#X obj 376 603 == 0;
#X obj 433 107 t b b b b b b;
#X msg 543 106 bypass 0;
#X obj 173 452 == 1;
#X connect 0 0 1 0;
#X connect 1 0 56 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 33 0;
#X connect 3 0 78 1;
#X connect 4 0 8 0;
#X connect 4 1 6 1;
#X connect 4 2 6 0;
#X connect 5 0 8 1;
#X connect 5 1 7 1;
#X connect 5 2 7 0;
#X connect 6 0 3 0;
#X connect 7 0 3 1;
#X connect 8 0 34 0;
#X connect 8 0 61 1;
#X connect 8 0 78 0;
#X connect 9 0 70 0;
#X connect 10 0 6 1;
#X connect 10 1 7 1;
#X connect 11 0 86 0;
#X connect 11 1 57 0;
#X connect 12 0 27 0;
#X connect 12 0 59 1;
#X connect 12 0 45 1;
#X connect 13 0 59 1;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 22 0;
#X connect 21 0 79 0;
#X connect 22 0 80 0;
#X connect 24 0 23 1;
#X connect 25 0 26 0;
#X connect 26 0 23 0;
#X connect 28 0 88 0;
#X connect 29 0 30 0;
#X connect 30 0 26 1;
#X connect 32 0 31 0;
#X connect 33 0 35 1;
#X connect 33 1 36 1;
#X connect 34 0 35 0;
#X connect 34 1 36 0;
#X connect 35 0 25 0;
#X connect 36 0 25 1;
#X connect 37 0 39 1;
#X connect 38 0 39 0;
#X connect 38 1 37 0;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 42 0 38 0;
#X connect 43 0 38 0;
#X connect 44 0 63 0;
#X connect 45 0 53 0;
#X connect 46 0 52 0;
#X connect 51 0 2 0;
#X connect 51 1 59 0;
#X connect 52 0 83 0;
#X connect 52 1 62 0;
#X connect 53 0 68 0;
#X connect 56 0 11 0;
#X connect 56 2 9 0;
#X connect 57 0 14 0;
#X connect 57 1 42 0;
#X connect 58 0 10 0;
#X connect 58 1 13 0;
#X connect 59 0 58 0;
#X connect 60 0 23 0;
#X connect 61 0 76 0;
#X connect 62 0 45 1;
#X connect 63 0 45 0;
#X connect 63 1 64 0;
#X connect 64 0 65 0;
#X connect 65 0 66 0;
#X connect 67 0 61 0;
#X connect 68 0 46 1;
#X connect 68 1 71 1;
#X connect 69 0 64 0;
#X connect 70 0 71 0;
#X connect 70 1 51 0;
#X connect 70 2 44 0;
#X connect 71 0 60 0;
#X connect 72 0 73 0;
#X connect 72 0 81 0;
#X connect 73 0 74 0;
#X connect 75 0 23 0;
#X connect 76 0 52 0;
#X connect 78 0 21 0;
#X connect 79 0 46 0;
#X connect 80 0 24 0;
#X connect 80 1 32 0;
#X connect 81 0 23 1;
#X connect 82 0 84 0;
#X connect 83 0 77 0;
#X connect 84 0 85 0;
#X connect 85 0 83 1;
#X connect 86 0 12 0;
#X connect 86 0 69 0;
#X connect 86 1 16 0;
#X connect 86 2 43 0;
#X connect 86 3 81 0;
#X connect 86 4 75 0;
#X connect 86 5 87 0;
#X connect 87 0 84 0;
#X connect 88 0 21 1;
#X restore 915 285 pd multitouch.slot2;
#X obj 129 262 spigot;
#X obj 195 222 r \$0-mode;
#X text 482 33 \$0-mode == 0 => touch mode;
#X text 481 60 \$0-mode == 1 => native gui mode;
#X text 733 55 (le gui est natif à puredata : on envoie des messages
mouse/mousup au patch);
#X text 1075 283 virtual mouse event generator;
#X obj 94 91 list prepend 1;
#X obj 234 58 r \$0-mode;
#X obj 112 122 route 2 1 0;
#X text 483 95 \$0-mode == 2 => cooked mode;
#X text 728 33 (le mode touch est pris en charge par le gui - ancienne
methode), f 69;
#X text 728 97 (le mode touch est pris en charge par le gui - nouvelle
methode), f 69;
#X text 183 299 nouvelle methode;
#X text 1084 319 + touch mode (ancienne methode);
#X obj 787 465 r slot.\$1;
#X obj 787 490 route set_mode;
#X obj 720 544 s \$0-mode;
#X text 793 432 Contrôle externe du mode;
#X obj 84 696 t l l;
#X msg 185 740 add \$1 \$2;
#X obj 176 792 t a b;
#X msg 304 678 0;
#X obj 183 702 spigot 1;
#X msg 265 584 1;
#X connect 0 0 26 0;
#X connect 2 0 38 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 5 1 2 1;
#X connect 5 2 6 0;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 0 11 0;
#X connect 7 0 43 0;
#X connect 8 0 4 1;
#X connect 9 0 3 0;
#X connect 9 1 5 0;
#X connect 9 2 12 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 7 0;
#X connect 12 1 13 0;
#X connect 12 2 15 0;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 15 0 13 0;
#X connect 15 1 17 1;
#X connect 15 2 16 0;
#X connect 16 0 14 1;
#X connect 17 0 18 0;
#X connect 18 0 1 0;
#X connect 20 0 9 0;
#X connect 21 0 20 1;
#X connect 26 0 28 0;
#X connect 27 0 26 1;
#X connect 28 0 9 0;
#X connect 28 1 19 0;
#X connect 28 1 20 0;
#X connect 28 2 19 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 38 0 10 0;
#X connect 38 1 42 0;
#X connect 39 0 40 0;
#X connect 40 0 1 0;
#X connect 40 1 41 0;
#X connect 41 0 42 1;
#X connect 42 0 39 0;
#X connect 43 0 42 1;
